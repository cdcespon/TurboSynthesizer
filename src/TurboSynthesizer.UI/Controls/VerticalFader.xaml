<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TurboSynthesizer.UI.Controls.VerticalFader">
    
    <ContentView.Content>
        <Grid RowDefinitions="Auto, *, Auto" HorizontalOptions="Center" WidthRequest="40" HeightRequest="200" RowSpacing="5">
            <!-- Label -->
            <Label x:Name="NameLabelHost" Text="VOL" 
                   Grid.Row="0"
                   TextColor="{StaticResource Gray400}" 
                   FontSize="10" 
                   HorizontalOptions="Center"
                   HorizontalTextAlignment="Center"
                   FontAttributes="Bold"/>

            <!-- Fader Track Area -->
            <Grid x:Name="TrackContainer" Grid.Row="1" WidthRequest="36" >
                <!-- Track Groove -->
                <Border WidthRequest="6" 
                        HorizontalOptions="Center" 
                        BackgroundColor="{StaticResource Gray900}" 
                        Stroke="{StaticResource Gray700}"
                        StrokeShape="RoundRectangle 3"
                        VerticalOptions="Fill"/>

                <!-- Active Track (Fill) -->
                <BoxView x:Name="ActiveTrack"
                         WidthRequest="2"
                         HorizontalOptions="Center"
                         VerticalOptions="End"
                         Color="White"
                         HeightRequest="0"
                         ZIndex="2"/>
                
                <!-- Thumb -->
                <Border x:Name="FaderThumb"
                        HeightRequest="30" 
                        WidthRequest="36" 
                        BackgroundColor="{StaticResource Gray300}"
                        Stroke="{StaticResource Gray600}"
                        StrokeThickness="1"
                        StrokeShape="RoundRectangle 4"
                        VerticalOptions="End"
                        ZIndex="5">
                    <Grid RowDefinitions="*,Auto,*" RowSpacing="2" VerticalOptions="Center">
                        <BoxView HeightRequest="1" Color="{StaticResource Gray500}" Margin="4,0"/>
                        <BoxView HeightRequest="1" Color="{StaticResource Gray500}" Margin="4,0"/>
                        <BoxView HeightRequest="1" Color="{StaticResource Gray500}" Margin="4,0"/>
                    </Grid>
                    <Border.Shadow>
                        <Shadow Brush="Black" Offset="0,2" Radius="5" Opacity="0.5"/>
                    </Border.Shadow>
                </Border>
                
                <!-- Touch Area (Overlay) -->
                <BoxView BackgroundColor="Transparent" ZIndex="10">
                    <BoxView.GestureRecognizers>
                        <PanGestureRecognizer PanUpdated="OnPanUpdated"/>
                        <TapGestureRecognizer Tapped="OnTapped"/>
                    </BoxView.GestureRecognizers>
                </BoxView>
            </Grid>

            <!-- Value Label -->
            <Label x:Name="ValueLabelHost" Text="0.00" 
                   Grid.Row="2"
                   TextColor="{StaticResource Primary}" 
                   FontSize="10" 
                   HorizontalOptions="Center"/>
        </Grid>
    </ContentView.Content>
</ContentView>
